<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liberian Astronomical Society (LAS) - Our Activities & Portfolio</title>
    <link rel="icon" href="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/favicon.ico?v=2" type="image/x-icon">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Global Layout & Typography --- */
        body {
            /* FIX: Wallpaper is now the fixed background for the entire page */
            background-image: url('https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Wallpaper.jpeg');
            background-size: cover;
            background-attachment: fixed; /* Keeps the background image fixed during scroll */
            background-position: center;
            background-color: #111827; /* Fallback color */
            font-family: 'Inter', sans-serif;
        }
        html {
            scroll-behavior: smooth;
        }
        .section-padding {
            padding-top: 5rem;
            padding-bottom: 5rem;
        }

        /* --- Navigation Styles --- */
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #a5b4fc; /* Tailwind's indigo-300 */
        }
        
        /* --- Card & Hover Effects --- */
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(124, 58, 237, 0.5), 0 4px 6px -2px rgba(124, 58, 237, 0.05);
        }

        /* --- Main Carousel Slides (Horizontal Stack) --- */
        .carousel-item {
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            transition: opacity 0.5s ease-in-out;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }

        .carousel-item.active {
            opacity: 1;
            position: relative;
            z-index: 10;
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
            border-color: #6366f1;
        }
        
        /* --- Inner Image Carousel Styles --- */
        .inner-image {
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: opacity 0.5s ease-in-out; /* Simple fade transition for "flipping" */
            object-fit: cover;
        }

        .inner-image.inner-active {
            opacity: 1;
            z-index: 5;
        }

        /* Style for the carousel buttons */
        .carousel-btn {
            background-color: #4f46e5; /* indigo-600 */
            transition: background-color 0.3s;
        }
        .carousel-btn:hover {
            background-color: #4338ca; /* indigo-700 */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header / Navigation Bar -->
    <header>
        <nav class="sticky top-0 z-50 bg-gray-900 bg-opacity-90 backdrop-blur-sm shadow-xl py-4 transition-all duration-300">
            <div class="container mx-auto flex justify-between items-center px-4">
                <a href="index.html" class="flex items-center space-x-3 text-2xl font-bold text-white tracking-wide">
                    <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/LAS%20official%20logo.png" onerror="this.onerror=null;this.src='https://placehold.co/40x40/111827/a5b4fc?text=LAS';" alt="LAS Logo" class="h-10 w-auto rounded-full ring-2 ring-indigo-500">
                    <span>LAS</span>
                </a>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-lg p-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Desktop Navigation (Links updated for Multi-Page) -->
                <ul class="hidden md:flex space-x-8 text-gray-400 items-center">
                    <li><a href="index.html" class="nav-link">Home</a></li> 
                    <li><a href="about.html" class="nav-link">About Us</a></li> 
                    <!-- ACTIVITIES link is highlighted for this page -->
                    <li><a href="portfolio.html" class="nav-link text-indigo-400 font-bold">Activities</a></li> 
                    <li><a href="team.html" class="nav-link">Our Team</a></li>
                    <li><a href="blog.html" class="nav-link">Blog</a></li>
                    <li><a href="president.html" class="nav-link">About the President</a></li>
                    <li><a href="getinvolve.html" class="nav-link">Get Involved</a></li>
                    <li><a href="index.html#contact" class="nav-link">Contact</a></li>
                    <li><a href="login.html" class="inline-block text-indigo-400 border-2 border-indigo-400 px-4 py-1 rounded-full hover:bg-indigo-400 hover:text-white transition-all duration-300">Member Login</a></li>
                    <li><a href="signup.html" class="inline-block text-white bg-indigo-600 px-4 py-1 rounded-full hover:bg-indigo-700 transition-all duration-300">Join Us</a></li>
                </ul>
            </div>
            
            <!-- Mobile Menu (Links updated for Multi-Page) -->
            <div id="mobile-menu" class="hidden md:hidden bg-gray-900 bg-opacity-90 backdrop-blur-sm">
                <ul class="flex flex-col items-center py-4 space-y-4 text-gray-400">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="about.html" class="nav-link">About Us</a></li>
                    <!-- ACTIVITIES link is highlighted for this page -->
                    <li><a href="portfolio.html" class="nav-link text-indigo-400 font-bold">Activities</a></li>
                    <li><a href="team.html" class="nav-link">Our Team</a></li>
                    <li><a href="blog.html" class="nav-link">Blog</a></li>
                    <li><a href="president.html" class="nav-link">About the President</a></li>
                    <li><a href="getinvolve.html" class="nav-link">Get Involved</a></li>
                    <li><a href="index.html#contact" class="nav-link">Contact</a></li>
                    <li><a href="login.html" class="inline-block text-indigo-400 border-2 border-indigo-400 px-4 py-1 rounded-full hover:bg-indigo-400 hover:text-white transition-all duration-300">Member Login</a></li>
                    <li><a href="signup.html" class="inline-block text-white bg-indigo-600 px-4 py-1 rounded-full hover:bg-indigo-700 transition-all duration-300">Join Us</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <!-- Activities Section -->
        <section id="activities" class="section-padding bg-gray-800">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-white mb-12">Our Hands-on Activities</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Activity Card 1: Hand-On Workshops -->
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg border border-indigo-600 text-center card-hover transition-all duration-300">
                        <span class="text-6xl mb-4 inline-block">üõ†Ô∏è</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Hand-On Workshops</h3>
                        <p class="text-gray-300">
                            We organize workshops to guide young Liberians through all the steps in our projects, from start to finish.
                        </p>
                    </div>
                    <!-- Activity Card 2: Citizen Science Project -->
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg border border-indigo-600 text-center card-hover transition-all duration-300">
                        <span class="text-6xl mb-4 inline-block">üî¨</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Citizen Science Project</h3>
                        <p class="text-gray-300">
                            We actively participate in projects under the Pan-African Citizen Science e-Laboratory, contributing to real-world astronomical research.
                        </p>
                    </div>
                    <!-- Activity Card 3: Star Gazing -->
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg border border-indigo-600 text-center card-hover transition-all duration-300">
                        <span class="text-6xl mb-4 inline-block">üî≠</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Star Gazing</h3>
                        <p class="text-gray-300">
                            We host events for the public to come and see the celestial wonders by themselves, making astronomy more accessible and exciting for everyone.
                        </p>
                    </div>
                    <!-- Activity Card 4: Outreach Programs -->
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg border border-indigo-600 text-center card-hover transition-all duration-300">
                        <span class="text-6xl mb-4 inline-block">üì¢</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Outreach Programs</h3>
                        <p class="text-gray-300">
                            We visit schools and universities across Liberia to spread the knowledge of astronomy and inspire the next generation of scientists.
                        </p>
                    </div>
                    <!-- Activity Card 5: Conferences / Seminars -->
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg border border-indigo-600 text-center card-hover transition-all duration-300">
                        <span class="text-6xl mb-4 inline-block">üéôÔ∏è</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Conferences / Seminars</h3>
                        <p class="text-gray-300">
                            We organize programs where astronomers and enthusiasts from across Liberia and the world can come and share ideas.
                        </p>
                    </div>
                    <!-- Activity Card 6: Membership Registration -->
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg border border-indigo-600 text-center card-hover transition-all duration-300">
                        <span class="text-6xl mb-4 inline-block">‚úçÔ∏è</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Membership Registration</h3>
                        <p class="text-gray-300">
                            Interested in joining? The process includes filling out a registration form, attending an interview, and paying membership fees.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Our Works Section - NEW CONTENT -->
        <section id="portfolio" class="section-padding bg-gray-900">
            <div class="container mx-auto text-center px-4">
                <h2 class="text-4xl font-bold text-white mb-12">Our Work in Action</h2>
                <div id="carousel-container" class="relative max-w-2xl mx-auto shadow-2xl rounded-xl">

                    <button onclick="changeSlide(-1)" class="carousel-btn absolute top-1/2 left-0 z-20 transform -translate-y-1/2 -ml-6 md:-ml-10 p-3 rounded-full text-white focus:outline-none ring-2 ring-white hover:ring-indigo-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                    </button>

                    <div id="carousel-items" class="relative overflow-hidden"> 
                    
                        <!-- Slide 1: Campus Astronomy Class -->
                        <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 transition-all duration-300 overflow-hidden">
                            <!-- Inner Slideshow Container (Fades/Flips) -->
                            <div class="relative h-72 w-full overflow-hidden">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Ex%202.jpg" 
                                     onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Image+1+Missing';"
                                     alt="LAS President teaching on campus (1)" 
                                     class="inner-image inner-active w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Ex%201.jpg" 
                                     onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Image+2+Missing';"
                                     alt="LAS President teaching on campus (2)" 
                                     class="inner-image w-full h-full object-cover">
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-indigo-400 mb-2">Campus Astronomy Class</h3>
                                <p class="text-gray-300 text-sm">
                                    Our President, Daniel A. Obajemu, shares his passion for the cosmos by teaching a hands-on astronomy class on his university campus.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 2: IASC Certificates -->
                        <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 transition-all duration-300 overflow-hidden">
                            <!-- Inner Slideshow Container (Fades/Flips) -->
                            <div class="relative h-72 w-full overflow-hidden">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C1.jpg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Cert+1+Missing';" alt="Certificate 1" class="inner-image inner-active w-full h-full object-contain p-4">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C2.jpg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Cert+2+Missing';" alt="Certificate 2" class="inner-image w-full h-full object-contain p-4">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C3.jpg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Cert+3+Missing';" alt="Certificate 3" class="inner-image w-full h-full object-contain p-4">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C4.jpg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Cert+4+Missing';" alt="Certificate 4" class="inner-image w-full h-full object-contain p-4">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C5.jpg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Cert+5+Missing';" alt="Certificate 5" class="inner-image w-full h-full object-contain p-4">
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-indigo-400 mb-2">Our IASC Certificates</h3>
                                <p class="text-gray-400 text-sm mb-4">Date: May 19, 2025</p>
                                <p class="text-gray-300 text-sm">
                                    Proudly showcasing the certificates earned by our members for their valuable contributions to the International Astronomical Search Collaboration (IASC) on our first asteroid hunting campaign attempt.
                                </p>
                            </div>
                        </div>
                        
                        <!-- Slide 3: Astrophotography Projects -->
                        <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 transition-all duration-300 overflow-hidden">
                            <!-- Inner Slideshow Container (Fades/Flips) -->
                            <div class="relative h-72 w-full overflow-hidden">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/BARNARD%2033_2.png" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Astro+1+Missing';" alt="Horsehead Nebula Astrophoto" class="inner-image inner-active w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Andonmara%20Galaxy.png" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Astro+2+Missing';" alt="Andromeda Galaxy Astrophoto" class="inner-image w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Heart%20Nebulae%202.png" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Astro+3+Missing';" alt="Heart Nebula Astrophoto" class="inner-image w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Lagoon%20Galaxy.png" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Astro+4+Missing';" alt="Lagoon Galaxy Astrophoto" class="inner-image w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/M51_2.png" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Astro+5+Missing';" alt="M51 Galaxy Astrophoto" class="inner-image w-full h-full object-cover">
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-indigo-400 mb-2">Our Astrophotography Projects</h3>
                                <p class="text-gray-400 text-sm mb-4">Date: Oct 12, 2025</p>
                                <p class="text-gray-300 text-sm">
                                    Proudly showcasing our images processed - Horsehead Nebula, Lagoon Nebula, Heart Nebula, Whirlpool Galaxy and Andromeda Galaxy - using GIMP and Photoshop during our first indoor Astrophotography Training.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 4: Outreach In Kakata -->
                        <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 transition-all duration-300 overflow-hidden">
                            <!-- Inner Slideshow Container (Fades/Flips) -->
                            <div class="relative h-72 w-full overflow-hidden">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_2301996913642555.jpeg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Outreach+1+Missing';" alt="Outreach in Kakata (1)" class="inner-image inner-active w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_829395132782547.jpeg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Outreach+2+Missing';" alt="Outreach in Kakata (2)" class="inner-image w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_835182659055931.jpeg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Outreach+3+Missing';" alt="Outreach in Kakata (3)" class="inner-image w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_24782856664668488.jpeg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Outreach+4+Missing';" alt="Outreach in Kakata (4)" class="inner-image w-full h-full object-cover">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_1894301934767661.jpeg" onerror="this.onerror=null;this.src='https://placehold.co/400x288/1e293b/9ca3af?text=Outreach+5+Missing';" alt="Outreach in Kakata (5)" class="inner-image w-full h-full object-cover">
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-indigo-400 mb-2">Outreach In Kakata</h3>
                                <p class="text-gray-400 text-sm mb-4">Date: Oct 20, 2025</p>
                                <p class="text-gray-300 text-sm">
                                    Our outreach expanded to Kakata, Margibi County, where we engage students at Booker Washington Institute (BWI), inspiring the next generation of Liberian scientists. üöÄ
                                </p>
                            </div>
                        </div>
                        
                    </div>
                    <button onclick="changeSlide(1)" class="carousel-btn absolute top-1/2 right-0 z-20 transform -translate-y-1/2 -mr-6 md:-mr-10 p-3 rounded-full text-white focus:outline-none ring-2 ring-white hover:ring-indigo-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                    </button>
                    
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-700">
        <div class="container mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex justify-center space-x-4 mb-4">
                <a href="index.html" class="text-gray-400 hover:text-indigo-400 transition">Home</a>
                <span class="text-gray-600">|</span>
                <a href="about.html" class="text-gray-400 hover:text-indigo-400 transition">About Us</a>
                <span class="text-gray-600">|</span>
                <!-- ACTIVITIES link is highlighted for this page -->
                <a href="portfolio.html" class="text-indigo-400 font-bold transition">Activities</a>
                <span class="text-gray-600">|</span>
                <a href="blog.html" class="text-gray-400 hover:text-indigo-400 transition">Blog</a>
                <span class="text-gray-600">|</span>
                <a href="index.html#contact" class="text-gray-400 hover:text-indigo-400 transition">Contact</a>
            </div>
            <p class="text-gray-500 text-sm">&copy; <span id="current-year"></span> Liberian Astronomical Society. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Global state for main carousel
        let currentSlide = 0;
        const INNER_TRANSITION_INTERVAL = 3000; // 3 seconds per inner image "flip"
        const INNER_IMAGE_TRANSITION_DURATION = 500; // Must be same as CSS transition
        const innerCarouselTimers = []; // To hold all setInterval IDs

        // --- CORE CAROUSEL LOGIC ---

        /**
         * Clears all running inner carousel timers.
         */
        function stopInnerCarousels() {
            innerCarouselTimers.forEach(clearInterval);
            innerCarouselTimers.length = 0;
        }

        /**
         * Cycles the images within a single carousel item.
         * Automatically advances the main slide when the last image is shown.
         * @param {HTMLElement} slideElement - The active main carousel slide.
         */
        function startInnerCarousel(slideElement) {
            const innerImages = slideElement.querySelectorAll('.inner-image');
            
            // If there's 1 or fewer images, no cycling needed
            if (innerImages.length <= 1) {
                // Ensure the single image is active if present
                if (innerImages.length === 1) innerImages[0].classList.add('inner-active');
                return;
            }

            // Initialize state for this specific inner carousel
            let innerIndex = 0;

            // Stop any timers that might be leftover from the last cycle, just in case
            innerImages.forEach((img, i) => {
                img.classList.remove('inner-active');
            });
            innerImages[0].classList.add('inner-active');

            const timer = setInterval(() => {
                // 1. Hide current image
                innerImages[innerIndex].classList.remove('inner-active');

                innerIndex++;

                if (innerIndex >= innerImages.length) {
                    // 2. We reached the end of the inner slideshow, advance the main slide
                    changeSlide(1); 
                    
                    // CRITICAL: Stop the interval immediately to prevent multiple calls
                    stopInnerCarousels(); 
                    
                    // Reset the inner index to 0 for when this slide cycles back around
                    innerIndex = 0;

                } else {
                    // 3. Show the next image
                    innerImages[innerIndex].classList.add('inner-active');
                }

            }, INNER_TRANSITION_INTERVAL);

            // Save timer for later stopping
            innerCarouselTimers.push(timer);
        }

        /**
         * Updates the visibility of the main carousel slides and manages inner carousels.
         * @param {number} index - The index of the slide to display.
         */
        function showSlide(index) {
            const carouselItems = document.querySelectorAll('#carousel-items .carousel-item');
            if (carouselItems.length === 0) return;

            // 1. Handle wrapping (looping)
            if (index >= carouselItems.length) {
                currentSlide = 0;
            } else if (index < 0) {
                currentSlide = carouselItems.length - 1;
            } else {
                currentSlide = index;
            }

            // 2. Stop all existing inner carousels and reset their state
            stopInnerCarousels();

            // 3. Update classes to show the current slide and hide others
            carouselItems.forEach((item, i) => {
                if (i === currentSlide) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // 4. Start the inner carousel for the new active slide AFTER the main transition completes
            // We delay slightly longer than the main carousel CSS transition (0.5s)
            setTimeout(() => {
                startInnerCarousel(carouselItems[currentSlide]);
            }, 600); 
        }

        // Function callable from HTML buttons (window global scope)
        window.changeSlide = function(n) {
            showSlide(currentSlide + n);
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // 1. Mobile Menu Toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // 2. Close mobile menu on link click
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                 link.addEventListener('click', () => {
                     if (mobileMenu) {
                         mobileMenu.classList.add('hidden');
                     }
                 });
            });

            // 3. Initialize the carousel to the first slide on load
            const carouselItems = document.querySelectorAll('#carousel-items .carousel-item');
            if (carouselItems.length > 0) {
                showSlide(currentSlide);
            }
        });
    </script>
</body>
</html>
