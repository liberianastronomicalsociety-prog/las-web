<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liberian Astronomical Society (LAS) - Explore Our Universe</title>
    <link rel="icon" href="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/favicon.ico?v=2" type="image/x-icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- General Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            background: url('https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Wallpaper.jpeg') center/cover no-repeat fixed;
            color: #f9fafb;
            position: relative;
        }

        /* Dark Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 0; /* Keep overlay above the page background but below content */
        }

        /* Ensure main content sits above the overlay */
        #content { position: relative; z-index: 1; }

        html { scroll-behavior: smooth; }
        .section-padding { padding: 5rem 1rem; }

        /* --- Loader Animation --- */
        .loader {
            border: 6px solid rgba(255,255,255,0.3);
            border-top: 6px solid #6366f1;
            border-radius: 50%;
            width: 50px; height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- Components --- */
        .nav-link { transition: color 0.3s; }
        .nav-link:hover { color: #a5b4fc; }

        .card-hover { transition: all 0.3s; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(99,102,241,0.5); }

        /* Carousel Styles */
        .carousel-container { position: relative; width: 100%; max-width: 1200px; margin: auto; border-radius: 1rem; overflow: hidden; }
        .carousel-item { display: none; position: relative; }
        .carousel-item.active { display: block; }
        
        .carousel-btn { 
            background-color: rgba(79, 70, 229, 0.8); 
            padding: 0.75rem 1.25rem; 
            border-radius: 9999px; 
            cursor: pointer; 
            color: white; 
            font-weight: bold; 
            transition: background-color 0.3s; 
            z-index: 20;
        }
        .carousel-btn:hover { background-color: #4338ca; }

        .dot { height: 10px; width: 10px; margin: 0 4px; background-color: #6b7280; border-radius: 50%; display: inline-block; cursor: pointer; transition: background-color 0.3s; }
        .dot.active { background-color: #6366f1; }
        
        /* Inner Slideshow Transitions */
        .inner-image { transition: opacity 1s ease-in-out; }
    </style>
</head>
<body>

    <div id="loader" class="fixed inset-0 bg-gray-900 bg-opacity-95 flex items-center justify-center z-50 transition-opacity duration-700">
        <div class="flex flex-col items-center space-y-4">
            <div class="loader"></div>
            <p class="text-white text-lg font-medium">Loading LAS page...</p>
        </div>
    </div>

    <div id="content" class="opacity-0 transition-opacity duration-700">

        <header class="sticky top-0 z-50 bg-gray-900 bg-opacity-90 backdrop-blur-sm shadow-xl py-4">
            <div class="container mx-auto flex justify-between items-center px-4">
                <a href="index.html" class="flex items-center space-x-3 text-2xl font-bold text-white">
                    <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/LAS%20official%20logo.png" alt="LAS Logo" class="h-10 w-auto rounded-full ring-2 ring-indigo-500">
                    <span>LAS</span>
                </a>
                
                <ul class="hidden md:flex space-x-8 text-gray-400 items-center">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="about.html" class="nav-link">About Us</a></li>
                    <li><a href="portfolio.html" class="nav-link text-indigo-400 font-bold">Activities</a></li>
                    <li><a href="team.html" class="nav-link">Our Team</a></li>
                    <li><a href="blog.html" class="nav-link">Blog</a></li>
                    <li><a href="getinvolve.html" class="nav-link">Get Involved</a></li>
                    <li><a href="index.html#contact" class="nav-link">Contact</a></li>
                    <li><a href="login.html" class="inline-block text-indigo-400 border-2 border-indigo-400 px-4 py-1 rounded-full hover:bg-indigo-400 hover:text-white transition">Member Login</a></li>
                    <li><a href="signup.html" class="inline-block text-white bg-indigo-600 px-4 py-1 rounded-full hover:bg-indigo-700 transition">Join Us</a></li>
                </ul>

                <div class="md:hidden">
                    <button id="mobile-menu-button" aria-label="Toggle Menu" class="text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-lg p-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <div id="mobile-menu" class="hidden md:hidden bg-gray-900 bg-opacity-95 backdrop-blur-sm border-t border-gray-800">
                <ul class="flex flex-col items-center py-6 space-y-6 text-gray-400 text-lg">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="about.html" class="nav-link">About Us</a></li>
                    <li><a href="portfolio.html" class="nav-link text-indigo-400 font-bold">Activities</a></li>
                    <li><a href="team.html" class="nav-link">Our Team</a></li>
                    <li><a href="blog.html" class="nav-link">Blog</a></li>
                    <li><a href="getinvolve.html" class="nav-link">Get Involved</a></li>
                    <li><a href="index.html#contact" class="nav-link">Contact</a></li>
                    <li><a href="login.html" class="text-indigo-400 font-semibold">Member Login</a></li>
                    <li><a href="signup.html" class="bg-indigo-600 text-white px-6 py-2 rounded-full">Join Us</a></li>
                </ul>
            </div>
        </header>

        <section class="section-padding relative text-center min-h-[60vh] flex items-center justify-center">
            <div class="absolute inset-0 bg-gradient-to-r from-indigo-900 via-purple-900 to-indigo-800 opacity-70"></div>
            <div class="relative z-10 max-w-4xl mx-auto text-white px-4">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 tracking-tight">Liberian Astronomical Society</h1>
                <p class="text-gray-200 text-lg md:text-2xl mb-8 leading-relaxed">Connecting young Liberians to the universe through astronomy education, outreach, and research programs.</p>
                <a href="signup.html" class="inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-8 py-4 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300">Join Our Mission</a>
            </div>
        </section>

        <section id="activities" class="section-padding bg-gray-900 bg-opacity-80">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-indigo-400 mb-12">Our Hands-on Activities</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl border border-indigo-600/30 text-center card-hover">
                        <span class="text-6xl mb-4 inline-block">üõ†Ô∏è</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Hands-On Workshops</h3>
                        <p class="text-gray-300">Guiding young Liberians through real projects from start to finish.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl border border-indigo-600/30 text-center card-hover">
                        <span class="text-6xl mb-4 inline-block">üî¨</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Citizen Science</h3>
                        <p class="text-gray-300">Contributing to Pan-African astronomy research projects.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl border border-indigo-600/30 text-center card-hover">
                        <span class="text-6xl mb-4 inline-block">üî≠</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Star Gazing</h3>
                        <p class="text-gray-300">Public events to witness celestial wonders up close.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl border border-indigo-600/30 text-center card-hover">
                        <span class="text-6xl mb-4 inline-block">üì¢</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Outreach Programs</h3>
                        <p class="text-gray-300">Inspiring students nationwide about astronomy and science.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl border border-indigo-600/30 text-center card-hover">
                        <span class="text-6xl mb-4 inline-block">üéôÔ∏è</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Conferences & Seminars</h3>
                        <p class="text-gray-300">Bringing together astronomers and enthusiasts to share ideas.</p>
                    </div>
                    <div class="bg-gray-800 p-8 rounded-2xl shadow-xl border border-indigo-600/30 text-center card-hover">
                        <span class="text-6xl mb-4 inline-block">‚úçÔ∏è</span>
                        <h3 class="text-xl font-semibold text-indigo-400 mb-2">Membership Registration</h3>
                        <p class="text-gray-300">Join LAS through registration, interview, and membership.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="portfolio" class="section-padding bg-gray-900">
            <div class="container mx-auto text-center px-4">
                <h2 class="text-4xl font-bold text-indigo-400 mb-12">Our Work in Action</h2>

                <div class="carousel-container mx-auto relative max-w-5xl shadow-2xl">
                    
                    <div class="carousel-item active bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Ex%202.jpg" 
                                class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:1;" alt="LAS President teaching on campus">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Ex%201.jpg" 
                                class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="LAS President teaching">
                        </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Campus Astronomy Class</h3>
                            <p class="text-gray-300 text-sm">Our President, Daniel A. Obajemu, shares his passion for the cosmos by teaching a hands-on astronomy class on his university campus.</p>
                        </div>
                    </div>

                    <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C1.jpg" class="inner-image w-full h-full object-contain p-2 absolute top-0 left-0" style="opacity:1;" alt="Certificate 1">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C2.jpg" class="inner-image w-full h-full object-contain p-2 absolute top-0 left-0" style="opacity:0;" alt="Certificate 2">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C3.jpg" class="inner-image w-full h-full object-contain p-2 absolute top-0 left-0" style="opacity:0;" alt="Certificate 3">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C4.jpg" class="inner-image w-full h-full object-contain p-2 absolute top-0 left-0" style="opacity:0;" alt="Certificate 4">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/C5.jpg" class="inner-image w-full h-full object-contain p-2 absolute top-0 left-0" style="opacity:0;" alt="Certificate 5">
                        </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Our IASC Certificates</h3>
                            <p class="text-gray-400 text-sm mb-2">Date: May 19, 2025</p>
                            <p class="text-gray-300 text-sm">Proudly showcasing the certificates earned by our members for their valuable contributions to the International Astronomical Search Collaboration (IASC).</p>
                        </div>
                    </div>

                    <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/BARNARD%2033_2.png" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:1;" alt="Horsehead Nebula">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Andonmara%20Galaxy.png" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Andromeda Galaxy">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Heart%20Nebulae%202.png" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Heart Nebula">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Lagoon%20Galaxy.png" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Lagoon Galaxy">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/M51_2.png" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Whirlpool Galaxy">
                        </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Our Astrophotography Projects</h3>
                            <p class="text-gray-400 text-sm mb-2">Date: Oct 12, 2025</p>
                            <p class="text-gray-300 text-sm">Images processed (Horsehead Nebula, Lagoon Nebula, Heart Nebula, Whirlpool Galaxy, Andromeda) using GIMP and Photoshop during our training.</p>
                        </div>
                    </div>

                    <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_2301996913642555.jpeg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:1;" alt="Outreach Kakata 1">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_829395132782547.jpeg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Outreach Kakata 2">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_835182659055931.jpeg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Outreach Kakata 3">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/received_24782856664668488.jpeg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Outreach Kakata 4">
                        </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Outreach in Kakata</h3>
                            <p class="text-gray-400 text-sm mb-2">Date: Oct 20, 2025</p>
                            <p class="text-gray-300 text-sm">Outreach at Booker Washington Institute (BWI), inspiring the next generation of Liberian scientists. üöÄ</p>
                        </div>
                    </div>

                    <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/IMG_20251125_110138_670%40-655489296.jpg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:1;" alt="Outreach Bassa (1)">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/IMG_20251125_111121_768%40303648979.jpg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Outreach Bassa (2)">
                            </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Outreach in Grand Bassa</h3>
                            <p class="text-gray-400 text-sm mb-2">Date: Nov 25, 2025</p>
                            <p class="text-gray-300 text-sm">Engaging students at multiple high schools in Buchanan City, sparking curiosity about our universe.</p>
                        </div>
                    </div>

                    <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                                <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/Flyer%20-%20Introduction%20to%20Astronomy%202.png" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:1;" alt="Flyer 2">
                            </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Introduction to Astronomy</h3>
                            <p class="text-gray-400 text-sm mb-2">Date: Dec 20, 2025</p>
                            <p class="text-gray-300 text-sm">Educating students on the basics of astronomy and the universe through our Collaboration with Ghana Astronomical Science (GAS).</p>
                            <a href="blog.html" class="inline-block mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded-full shadow-sm transition" aria-label="Read the blog post about Introduction to Astronomy">Read the Blog</a>
                        </div>
                    </div>

                    <!-- New Slide: Astrophotography Training II -->
                    <div class="carousel-item bg-gray-800 rounded-xl border border-indigo-700 overflow-hidden">
                        <div class="inner-slideshow relative h-72 md:h-96 w-full overflow-hidden bg-black">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/A%201.jpg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:1;" alt="Whirlpool Galaxy">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/A%202.jpg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Lagoon Galaxy">
                            <img src="https://raw.githubusercontent.com/liberianastronomicalsociety-prog/las-web/main/A%203.jpg" class="inner-image w-full h-full object-cover absolute top-0 left-0" style="opacity:0;" alt="Heart Nebula">
                        </div>
                        <div class="p-6 text-left">
                            <h3 class="text-xl font-semibold text-indigo-400 mb-2">Astrophotography Training II</h3>
                            <p class="text-gray-400 text-sm mb-2">Date: Dec 17, 2025</p>
                            <p class="text-gray-300 text-sm">Advanced image processing, stacking and observing techniques ‚Äî a hands-on follow-up to our introductory sessions.</p>
                        </div>
                    </div>

                    <button id="prev-btn" aria-label="Previous Slide" class="carousel-btn absolute top-1/2 left-2 -translate-y-1/2">‚ùÆ</button>
                    <button id="next-btn" aria-label="Next Slide" class="carousel-btn absolute top-1/2 right-2 -translate-y-1/2">‚ùØ</button>
                    
                    <div id="carousel-dots" class="flex justify-center space-x-2 my-4 pb-4"></div>
                </div>
            </div>
        </section>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-700 mt-12">
        <div class="container mx-auto py-8 px-6 text-center">
            <div class="flex justify-center space-x-4 mb-4 flex-wrap">
                <a href="index.html" class="hover:text-indigo-400 transition">Home</a> |
                <a href="about.html" class="text-indigo-400 transition">About Us</a> |
                <a href="portfolio.html" class="hover:text-indigo-400 font-bold transition">Activities</a> |
                <a href="blog.html" class="hover:text-indigo-400 transition">Blog</a> |
                <a href="index.html#contact" class="hover:text-indigo-400 transition">Contact</a>
            </div>
            <p class="text-gray-500 text-sm">&copy; <span id="current-year"></span> Liberian Astronomical Society. All rights reserved.</p>
        </div>
    </footer>
    </div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const loader = document.getElementById("loader");
    const content = document.getElementById("content");
    const mobileButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const footerYear = document.getElementById('current-year');

    // --- Loader ---
    function hideLoader() {
        if (!loader || !content) return;
        loader.style.opacity = "0";
        content.style.opacity = "1";
        setTimeout(() => { try { loader.style.display = "none"; } catch (e) {} }, 700);
    }

    // Hide when the page fully loads
    window.addEventListener('load', () => {
        hideLoader();
        if (typeof loaderFallback !== 'undefined') clearTimeout(loaderFallback);
    });

    // Fallback: if 'load' doesn't fire (common on some mobile networks), hide loader after 3s
    const loaderFallback = setTimeout(() => {
        // Only run fallback if loader is still shown
        if (loader && getComputedStyle(loader).display !== 'none') {
            hideLoader();
            console.info('Loader fallback applied: hiding loader after timeout');
        }
    }, 3000);

    // --- Mobile Menu ---
    if (mobileButton && mobileMenu) {
        mobileButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => mobileMenu.classList.add('hidden'));
        });
    }

    if (footerYear) footerYear.textContent = new Date().getFullYear();

    // --- Carousel ---
    const slides = document.querySelectorAll(".carousel-item");
    const dotsContainer = document.getElementById("carousel-dots");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");

    let currentOuterIndex = 0;
    let outerInterval = null;
    let innerInterval = null;
    let isHovered = false;

    // Create dots
    if (dotsContainer) {
        slides.forEach((_, i) => {
            const dot = document.createElement("span");
            dot.classList.add("dot");
            if (i === 0) dot.classList.add("active");
            dot.addEventListener("click", () => goToSlide(i));
            dotsContainer.appendChild(dot);
        });
    }

    function goToSlide(index) {
        if (index >= slides.length) index = 0;
        if (index < 0) index = slides.length - 1;

        slides[currentOuterIndex].classList.remove("active");
        if (dotsContainer) {
            const dots = dotsContainer.querySelectorAll(".dot");
            if (dots[currentOuterIndex]) dots[currentOuterIndex].classList.remove("active");
        }

        currentOuterIndex = index;

        slides[currentOuterIndex].classList.add("active");
        if (dotsContainer) {
            const dots = dotsContainer.querySelectorAll(".dot");
            if (dots[currentOuterIndex]) dots[currentOuterIndex].classList.add("active");
        }

        startInnerSlideshow(slides[currentOuterIndex]);
        resetOuterTimer();
    }

    // --- Inner Slideshow ---
    function startInnerSlideshow(slideElement) {
        if (innerInterval) clearInterval(innerInterval);

        const images = slideElement.querySelectorAll(".inner-image");
        images.forEach((img, i) => {
            img.style.opacity = (i === 0 ? "1" : "0");
            img.style.transform = "translateX(0)";
            img.style.transition = "opacity 1s ease, transform 1s ease";
        });

        if (images.length <= 1) return;

        let currentInnerIndex = 0;

        innerInterval = setInterval(() => {
            if (!isHovered) {
                images[currentInnerIndex].style.opacity = "0";
                images[currentInnerIndex].style.transform = "translateX(-20px)";
                currentInnerIndex = (currentInnerIndex + 1) % images.length;
                images[currentInnerIndex].style.opacity = "1";
                images[currentInnerIndex].style.transform = "translateX(0)";
            }
        }, 3000);
    }

    // --- Buttons ---
    if (nextBtn) nextBtn.addEventListener("click", () => goToSlide(currentOuterIndex + 1));
    if (prevBtn) prevBtn.addEventListener("click", () => goToSlide(currentOuterIndex - 1));

    // --- Auto Slide ---
    function resetOuterTimer() {
        if (outerInterval) clearInterval(outerInterval);
        outerInterval = setInterval(() => {
            if (!isHovered) goToSlide(currentOuterIndex + 1);
        }, 10000);
    }

    // --- Pause on Hover ---
    slides.forEach(slide => {
        slide.addEventListener('mouseenter', () => isHovered = true);
        slide.addEventListener('mouseleave', () => isHovered = false);
    });

    // --- Swipe / Drag for Outer Carousel ---
    let startX = 0;
    let isDragging = false;

    slides.forEach(slide => {
        slide.addEventListener('touchstart', e => {
            startX = e.touches[0].clientX;
            isDragging = true;
        });

        slide.addEventListener('touchmove', e => {
            if (!isDragging) return;
            const touchX = e.touches[0].clientX;
            const deltaX = touchX - startX;
            // Optional: You could slide the element slightly as user drags (nice effect)
            slide.style.transform = `translateX(${deltaX * 0.3}px)`;
        });

        slide.addEventListener('touchend', e => {
            const endX = e.changedTouches[0].clientX;
            const diff = endX - startX;
            isDragging = false;
            slide.style.transform = "translateX(0)";
            if (Math.abs(diff) > 50) {
                if (diff < 0) goToSlide(currentOuterIndex + 1);
                else goToSlide(currentOuterIndex - 1);
            }
        });
    });

    // --- Keyboard navigation ---
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') goToSlide(currentOuterIndex + 1);
        if (e.key === 'ArrowLeft') goToSlide(currentOuterIndex - 1);
    });

    startInnerSlideshow(slides[0]);
    resetOuterTimer();
});
</script>
</body>
</html>
